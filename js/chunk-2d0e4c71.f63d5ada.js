(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0e4c71"],{9257:function(t,a,e){"use strict";e.r(a);var o=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("TableData",{ref:"table",attrs:{config:t.table_config},scopedSlots:t._u([{key:"status",fn:function(a){return[e("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},on:{change:function(e){return t.switchChange(a.data)}},model:{value:a.data.status,callback:function(e){t.$set(a.data,"status",e)},expression:"slotData.data.status"}})]}},{key:"operation",fn:function(a){return[e("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){return t.edit(a.data)}}},[t._v("编辑")])]}}])}),e("AddCarsBrand",{attrs:{data:t.data_brand,flagVisible:t.dialog_show},on:{"update:flagVisible":function(a){t.dialog_show=a},"update:flag-visible":function(a){t.dialog_show=a},callbackComponent:t.callbackComponent}})],1)},n=[],i=(e("99af"),e("b775"));function s(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i["a"].request({method:"post",url:"/brand/logo/",data:t})}function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i["a"].request({method:"post",url:"/brand/add/",data:t})}function l(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i["a"].request({method:"post",url:"/brand/status/",data:t})}function d(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i["a"].request({method:"post",url:"/brand/edit/",data:t})}var c=e("0e61"),u=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("el-dialog",{staticClass:"cars-dialog-center",attrs:{title:"新增车辆品牌",visible:t.dialogVisible,"close-on-click-modal":!1},on:{"update:visible":function(a){t.dialogVisible=a},close:t.close,opened:t.opened}},[e("VueForm",{ref:"vuForm",attrs:{formData:t.form_data,formItem:t.form_item,formHandler:t.form_handler},scopedSlots:t._u([{key:"logo",fn:function(){return[e("div",{staticClass:"upload-img-wrap"},[e("div",{staticClass:"upload-img"},[e("img",{directives:[{name:"show",rawName:"v-show",value:t.logo_current,expression:"logo_current"}],attrs:{src:t.logo_current}})]),e("ul",{staticClass:"img-list"},t._l(t.logo,(function(a){return e("li",{key:a.id,on:{click:function(e){t.logo_current=a.img}}},[e("img",{attrs:{src:a.img,alt:a.name}})])})),0)])]},proxy:!0}])},[void 0],2)],1)],1)},m=[],f=e("3950"),g={name:"",components:{VueForm:f["a"]},data:function(){var t=this;return{dialogVisible:!1,form_data:{nameCh:"",nameEn:"",imgUrl:"",status:"",content:""},form_item:[{type:"Input",label:"品牌中文",placeholder:"输入品牌中文",prop:"nameCh"},{type:"Input",label:"品牌英文",placeholder:"输入品牌英文",prop:"nameEn"},{type:"Radio",label:"禁启用",prop:"status",options:this.$store.state.config.radio_disabled},{type:"Slot",slotName:"logo",label:"logo"}],form_handler:[{label:"确定",key:"submit",type:"danger",handler:function(){return t.submit()}}],radio_disabled:this.$store.state.config.radio_disabled,logo_current:"",logo:[]}},props:{flagVisible:{type:Boolean,default:!1},data:{type:Object,default:function(){}}},methods:{opened:function(){this.getBrandLogo(),this.getDetailed()},getBrandLogo:function(){var t=this;if(0!=this.logo.length)return!1;s().then((function(a){var e=a.data;console.log("BrandLogo",e),e&&(t.logo=e,t.logo[0].img="https://c-ssl.duitang.com/uploads/blog/201506/18/20150618142354_AVLNm.jpeg")}))},getDetailed:function(){this.form_data=this.data,this.logo_current=this.data.imgUrl,this.form_data.imgUrl=this.data.imgUrl},submit:function(){this.data.id?this.edit():this.add()},add:function(){var t=this;this.form_data.imgUrl=this.logo_current,r(this.form_data).then((function(a){t.$message({type:"success",message:a.message}),t.close(),t.$emit("callbackComponent",{function:"search"})}))},edit:function(){var t=this;this.form_data.imgUrl=this.logo_current;var a=JSON.parse(JSON.stringify(this.form_data));d(a).then((function(a){t.$message({type:"success",message:a.message}),t.close(),t.$emit("callbackComponent",{function:"search"})}))},reset:function(t){for(var a in this.form_data)this.form_data[a]="";this.logo_current=""},close:function(){this.reset("form"),this.dialogVisible=!1,this.$emit("update:flagVisible",!1)}},watch:{flagVisible:{handler:function(t,a){this.dialogVisible=t}}}},h=g,p=e("2877"),b=Object(p["a"])(h,u,m,!1,null,null,null),_=b.exports,v={name:"Parking",components:{AddCarsBrand:_,TableData:c["a"]},data:function(){var t=this;return{dialog_show:!1,form:{parking_name:"",area:"",type:"",brand:""},table_config:{thead:[{label:"Logo",prop:"imgUrl",type:"image",imgWidth:150},{label:"车辆品牌",prop:"nameCh",type:"function",callback:function(t,a){return"".concat(t.nameCh,"/").concat(t.nameEn)}},{label:"禁启用",prop:"status",type:"slot",slotName:"status"},{label:"操作",type:"operation",slotName:"operation",width:200,default:{deleteButton:!0}}],url:"brandList",data:{pageSize:10,pageNumber:1},form_item:[{label:"车辆品牌",prop:"brand",type:"Input",width:"150px",options:"parking_type",placeholder:"请输入车辆品牌"}],form_handler:[{label:"新增车辆品牌",prop:"add",type:"danger",element:"button",handler:function(){t.dialog_show=!0}}],form_config:{resetButton:!0}},rowId:"",data_id:"",data_brand:{},switch_disabled:""}},methods:{callbackComponent:function(t){console.log(t),t.function&&this[t.function]()},edit:function(t){this.data_brand=Object.assign({},t),this.dialog_show=!0},switchChange:function(t){var a=this;if(this.switch_flag)return!1;var e={id:t.id,status:t.status};this.switch_disabled=t.id,l(e).then((function(t){a.$message({type:"success",message:t.message}),a.switch_disabled=""})).catch((function(t){a.switch_disabled=""}))},search:function(){var t={pageSize:10,pageNumber:1};this.form.brand&&(t.brand=this.form.brand),this.$refs.table.requestData(t)},onSubmit:function(){console.log("submit!")}}},w=v,y=Object(p["a"])(w,o,n,!1,null,null,null);a["default"]=y.exports}}]);
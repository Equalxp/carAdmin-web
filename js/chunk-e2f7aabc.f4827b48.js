(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e2f7aabc"],{"0e61":function(t,e,a){"use strict";var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.table_config.search_form?a("FormSearch",{attrs:{formItme:t.table_config.form_item,formHandler:t.table_config.form_handler,formConfig:t.table_config.form_config},on:{callbackComponent:t.callbackComponent}}):t._e(),t._t("content"),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading_table,expression:"loading_table"}],staticStyle:{width:"100%"},attrs:{"element-loading-text":"加载中",data:t.table_data,border:""}},[t.table_config.checkbox?a("el-table-column",{attrs:{type:"selection",width:"35"}}):t._e(),t._l(this.table_config.thead,(function(e){return["function"===e.type?a("el-table-column",{key:e.prop,attrs:{prop:e.prop,label:e.label,width:e.width},scopedSlots:t._u([{key:"default",fn:function(o){return[a("span",{domProps:{innerHTML:t._s(e.callback&&e.callback(o.row,e.prop))}})]}}],null,!0)}):"slot"===e.type?a("el-table-column",{key:e.prop,attrs:{prop:e.prop,label:e.label,width:e.width},scopedSlots:t._u([{key:"default",fn:function(a){return[t._t(e.slotName,null,{data:a.row})]}}],null,!0)}):"switch"===e.type?a("el-table-column",{key:e.prop,attrs:{prop:e.prop,label:e.label,width:e.width},scopedSlots:t._u([{key:"default",fn:function(o){return[a("el-switch",{attrs:{"active-value":e.on||!0,"inactive-value":e.off||!1,"active-color":"#13ce66","inactive-color":"#ff4949"},on:{change:function(t){e.handler&&e.handler(t,o.row)}},model:{value:o.row[e.prop],callback:function(a){t.$set(o.row,e.prop,a)},expression:"scope.row[item.prop]"}}),t._t(e.slotName,null,{data:o.row,type:e.prop})]}}],null,!0)}):"image"===e.type?a("el-table-column",{key:e.prop,attrs:{prop:e.prop,label:e.label,width:e.width},scopedSlots:t._u([{key:"default",fn:function(t){return[a("img",{attrs:{src:t.row[e.prop],width:e.imgWidth||50,alt:""}})]}}],null,!0)}):"operation"===e.type?a("el-table-column",{key:e.prop,attrs:{prop:e.prop,label:e.label,width:e.width},scopedSlots:t._u([{key:"default",fn:function(o){return[e.buttonGroup&&e.buttonGroup.length>0?[t._l(e.buttonGroup,(function(e){var n;return["button"===e.event?a("el-button",{key:e.id,attrs:{type:e.type,size:"small"},on:{click:function(t){e.handler&&e.handler(o.row)}}},[t._v(" "+t._s(e.label)+" ")]):t._e(),"link"===e.event?a("router-link",{key:e.id,staticClass:"mr-10",attrs:{to:{name:e.name,query:(n={},n[e.key]=o.row[e.value||"id"],n)}}},[a("el-button",{attrs:{type:e.type,size:"small"}},[t._v(t._s(e.label))])],1):t._e()]}))]:t._e(),e.slotName?t._t(e.slotName,null,{data:o.row}):t._e(),e.default&&e.default.deleteButton?a("el-button",{attrs:{type:"danger",size:"small",loading:o.row[e.default.deleteKey||"id"]==t.rowId},on:{click:function(a){return t.delConfirm(o.row[e.default.deleteKey||"id"])}}},[t._v(" 删除 ")]):t._e()]}}],null,!0)}):a("el-table-column",{key:e.prop,attrs:{prop:e.prop,label:e.label,width:e.width}})]}))],2),a("el-row",{staticClass:"padding-top-30"},[a("el-col",{attrs:{span:4}},[a("div",{staticStyle:{padding:"5px"}})]),a("el-col",{attrs:{span:20}},[t.table_config.pagination?a("el-pagination",{staticClass:"pull-right",attrs:{background:"","current-page":t.currentPage,"page-sizes":[10,20,50,100],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}}):t._e()],1)],1)],2)},n=[],r=(a("caad"),a("b64b"),a("2532"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-form",{ref:"form",attrs:{inline:"",model:t.form_data}},[t._l(t.formItme,(function(e){return a("el-form-item",{key:e.prop,attrs:{label:e.label,prop:e.prop,rules:e.rules}},["Input"===e.type?a("el-input",{style:{width:e.width},attrs:{placeholder:e.placeholder,disabled:e.disabled},model:{value:t.form_data[e.prop],callback:function(a){t.$set(t.form_data,e.prop,"string"===typeof a?a.trim():a)},expression:"form_data[item.prop]"}}):t._e(),"Select"===e.type?a("el-select",{style:{width:e.width},attrs:{filterable:"",aaaa:e.options,placeholder:e.placeholder,disabled:e.disabled},model:{value:t.form_data[e.prop],callback:function(a){t.$set(t.form_data,e.prop,"string"===typeof a?a.trim():a)},expression:"form_data[item.prop]"}},t._l(e.options,(function(t){return a("el-option",{key:t.value||t[e.select_vlaue],attrs:{value:t.value||t[e.select_vlaue],label:t.label||t[e.select_label]}})})),1):t._e(),"City"===e.type?a("div",[a("CityArea",{ref:"city",refInFor:!0,attrs:{cityAreaValue:t.city_value},on:{"update:cityAreaValue":function(e){t.city_value=e},"update:city-area-value":function(e){t.city_value=e}}})],1):t._e(),"Keyword"===e.type?a("div",{staticStyle:{width:"300px"}},[a("KeyWord",{ref:"keyword",refInFor:!0,attrs:{options:e.options,value:t.keyword},on:{"update:value":function(e){t.keyword=e}}})],1):t._e(),"Slot"===e.type?t._t(e.slotName):t._e()],2)})),a("el-form-item",[a("el-button",{attrs:{type:"danger"},on:{click:t.search}},[t._v("搜索")]),t.formConfig.resetButton?a("el-button",{attrs:{type:"danger"},on:{click:t.reset}},[t._v("重置")]):t._e(),t._l(t.formHandler,(function(e){return["link"===e.element?a("el-button",{key:e.key,attrs:{type:e.type}},[a("router-link",{staticStyle:{color:"#fff"},attrs:{to:e.router}},[t._v(" "+t._s(e.label)+" ")])],1):t._e(),"button"===e.element?a("el-button",{key:e.key,attrs:{type:e.type},on:{click:function(t){e.handler&&e.handler()}}},[t._v(" "+t._s(e.label)+" ")]):t._e()]}))],2)],2)}),l=[],i=(a("4160"),a("159b"),a("b2b5")),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:8}},[a("el-select",{attrs:{placeholder:"请选择"},on:{change:t.inputEnter},model:{value:t.search_key,callback:function(e){t.search_key=e},expression:"search_key"}},t._l(t.search_options,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),a("el-col",{attrs:{span:16}},[a("el-input",{on:{input:t.inputEnter},model:{value:t.search_value,callback:function(e){t.search_value=e},expression:"search_value"}})],1)],1)},s=[],u=(a("99af"),a("4de4"),{name:"",components:{},data:function(){return{search_key:"",search_value:"",search_options:[],keyword_options:this.$store.state.config.keyword_options}},methods:{initOptions:function(){var t=this,e=[];this.options.forEach((function(a){var o=t.keyword_options.filter((function(t){return t.value==a}));e=e.concat(o)})),this.search_options=e},inputEnter:function(){var t={};t.key=this.search_key,t.value=this.search_value,this.$emit("update:value",t)},clear:function(){this.search_key="",this.search_value=""}},props:{options:{type:Array,default:function(){return[]}}},watch:{options:{handler:function(t){this.initOptions()},immediate:!0}}}),d=u,p=a("2877"),f=Object(p["a"])(d,c,s,!1,null,"20b086c2",null),h=f.exports,m={name:"Form",components:{CityArea:i["a"],KeyWord:h},props:{formItme:{type:Array,default:function(){return[]}},formHandler:{type:Array,default:function(){return[]}},formConfig:{type:Object,default:function(){}}},data:function(){return{keyword:{},city_value:"",form_data:{}}},methods:{search:function(){var t={};for(var e in this.form_data)this.form_data[e]&&(t[e]=this.form_data[e]);this.$refs.keyword&&this.keyword.key&&this.keyword.value&&(t[this.keyword.key]=this.keyword.value),this.$refs.city&&this.city_value&&(t.area=this.city_value),this.$emit("callbackComponent",{function:"search",data:t})},reset:function(){this.$refs.form.resetFields(),this.$refs.city[0]&&this.$refs.city[0].clear(),this.$refs.keyword[0]&&this.$refs.keyword[0].clear()},initFormData:function(){var t=this;this.formItme.forEach((function(e){"Select"===e.type&&t.selectOption(e)}))},initFormFelid:function(t){var e={};this.formItme.forEach((function(t){t.prop&&(e[t.prop]="")})),this.form_data=e},selectOption:function(t){var e=this.$store.state.config[t.options];e&&(t.options=e)}},watch:{formItme:{handler:function(t){this.initFormData(),this.initFormFelid()},immediate:!0}}},_=m,b=Object(p["a"])(_,r,l,!1,null,"46dd7654",null),y=b.exports,g=a("2934"),v={name:"TableComponent",components:{FormSearch:y},data:function(){return{loading_table:!1,table_data:[],table_config:{isRequest:!0,thead:[],checkbox:!0,url:"",pagination:!0,data:{},search_form:!0,form_item:[],form_handler:[],form_config:{resetButton:!1}},total:0,currentPage:1,rowId:"",form_data:{}}},beforeMount:function(){},methods:{callbackComponent:function(t){this[t.function](t.data)},search:function(t){var e=t;e.pageNumber=1,e.pageSize=10,this.requestData(e)},initConfig:function(){for(var t in this.config)Object.keys(this.table_config).includes(t)&&(this.table_config[t]=this.config[t]);this.table_config.isRequest&&this.loadData()},loadData:function(){var t=this,e={url:this.table_config.url,data:this.table_config.data};this.loading_table=!0,Object(g["f"])(e).then((function(e){var a=e.data;a&&(t.table_data=a.data),t.$nextTick((function(){})),t.total=a.total,t.loading_table=!1})).catch((function(e){t.loading_table=!1}))},requestData:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";t&&(this.table_config.data=t),this.loadData()},handleSizeChange:function(t){this.table_config.data.pageSize=t,this.loadData()},handleCurrentChange:function(t){this.table_config.data.pageNumber=t,this.loadData()},delConfirm:function(t){var e=this;this.$confirm("确定删除此信息","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.rowId=t;var a={url:e.table_config.url+"Delete",data:{id:t}};Object(g["a"])(a).then((function(t){e.$message({type:"success",message:t.message}),e.rowId="",e.loadData()})).cacth((function(t){e.rowId=""}))})).catch((function(){}))},edit:function(t,e){this.$router.push({name:e,query:{id:t}})}},props:{config:{type:Object,default:function(){}},searchFormConfig:{type:Object,default:function(){return{}}},id:{type:String,default:null}},watch:{config:{handler:function(t){this.initConfig()},immediate:!0},"$store.state.common.table_loadData_flag":{handler:function(t){this.loadData()}}}},k=v,w=(a("c7b5"),Object(p["a"])(k,o,n,!1,null,"a13fb148",null));e["a"]=w.exports},"5b1b":function(t,e,a){},c7b5:function(t,e,a){"use strict";var o=a("5b1b"),n=a.n(o);n.a}}]);